using System;using System.IO;using System.Linq;using Akka.TestKit.Xunit2;using telegen.Util;using Xunit;using Xunit.Abstractions;namespace telegen.Tests{    public class TestParsers : TestKit    {        private readonly ITestOutputHelper output;        public TestParsers(ITestOutputHelper output)        {            this.output = output;        }        [Theory]        [InlineData("FILE.CREATE \"~/Tempfile.Txt\"")]        [InlineData("FILE.CREATE ~/Tempfile.Txt")]        [InlineData("FILE.APPEND \"~/Tempfile.Txt\" '\"Today is the first day of the rest of your life.\" -- Unknown'")]        [InlineData("FILE.APPEND ~/Tempfile.Txt '\"Today is the first day of the rest of your life.\" -- Unknown'")]        [InlineData("EXEC atom \"~/Tempfile.Txt\"")]        [InlineData("EXEC atom ~/Tempfile.Txt")]        [InlineData("FILE.DELETE \"~/Tempfile.Txt\"")]        [InlineData("FILE.DELETE ~/Tempfile.Txt")]        [InlineData("NET.GET http://www.google.com")]        [InlineData("WAIT 5000")]        public void TestCommandParser(string command)        {            var parser = new CommandParser();            var cmd = parser.Parse(command);            output.WriteLine(command);            output.WriteLine(cmd.Command);            foreach (var p in cmd.Parms)            {                output.WriteLine(p);            }            output.WriteLine(string.Empty);        }        [Fact]        public void TestScriptTranslators ()        {            var script = @"FILE.CREATE ""~/Tempfile.Txt""FILE.APPEND ""~/Tempfile.Txt"" 'Now is the first day of the rest of your life. -- Unknown'EXEC atom  ""~/Tempfile.Txt""WAIT 60000FILE.DELETE ""~/Tempfile.Txt""NET.GET http://www.google.com            ";            var xlator = new ScriptTranslator();            var lines = script.Split(System.Environment.NewLine.ToCharArray());            var results = xlator.Translate(lines);             foreach (var cmd in results)            {                output.WriteLine(cmd.ToString());            }        }        [Fact]        public void TestScriptingEngine()        {            var script = @"FILE.CREATE ""~/Tempfile.txt""FILE.APPENDLINE ""~/Tempfile.txt"" 'Today is the first day of the rest of your life.'FILE.APPEND ""~/Tempfile.txt"" '             -- 'FILE.APPENDLINE ""~/Tempfile.txt"" ' Unknown'EXEC atom  ""~/Tempfile.txt""WAIT 10000FILE.DELETE ""~/Tempfile.txt""NET.GET http://www.google.com            ";            if (Environment.OSVersion.Platform.ToString().Contains("Win")) {                script = script.Replace("atom", "notepad");                script = script.Replace("~/Tempfile.txt", Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.UserProfile), "Tempfile.txt").Replace("\\", "\\\\"));            }            var engine = new ScriptEngine();            var lines = script.Split(System.Environment.NewLine.ToCharArray());            var results = engine.Execute(lines);            foreach (var cmd in results.Where(s => s != null))            {                output.WriteLine(cmd.ToString());            }        }    }}