using System;using System.IO;using System.Linq;using Akka.TestKit.Xunit2;using Xunit;using Xunit.Abstractions;namespace telegen.Tests{    public class TestParsers : TestKit    {        private readonly ITestOutputHelper output;        public TestParsers(ITestOutputHelper output)        {            this.output = output;        }        [Fact]        public void TestScriptingEngine()        { 

        var script = @"[    { ""domain"": ""System"", ""action"": ""Comment"", ""text"": ""Add any properties you want!""},    {""domain"": ""File"", ""action"": ""Create"", ""filename"": ""~/Tempfile.txt""},    {""domain"": ""File"", ""action"": ""AppendLine"", ""filename"": ""~/Tempfile.txt"", ""contents"": ""Today is the first day of the rest of your life.""},    {""domain"": ""File"", ""action"": ""Append"", ""filename"": ""~/Tempfile.txt"", ""contents"": ""Today is the first day of the rest of your life.""},    {""domain"": ""File"", ""action"": ""AppendLine"", ""filename"": ""~/Tempfile.txt"", ""contents"": ""Today is the first day of the rest of your life.""},    {""domain"": ""Process"", ""action"": ""Spawn"", ""executable"": ""atom"", ""arguments"": ""~/Tempfile.txt""},    {""domain"": ""Network"", ""action"": ""Get"", ""url"": ""http://www.google.com""},    {""domain"": ""System"", ""action"": ""Wait"", ""ms"": 4000},    {""domain"": ""File"", ""action"": ""Delete"", ""filename"": ""~/Tempfile.txt""}]";            if (Environment.OSVersion.Platform.ToString().Contains("Win")) {                script = script.Replace("atom", "notepad");                script = script.Replace("~/Tempfile.txt", Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.UserProfile), "Tempfile.txt").Replace("\\", "\\\\"));            }            var engine = new ScriptEngine();            var results = engine.ParseAndExecute(script);            foreach (var cmd in results.Where(s => s != null))            {                output.WriteLine(cmd.ToString());            }        }    }}